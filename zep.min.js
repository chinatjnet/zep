Zepto=function(){function b(b,c){if("function"==typeof b)return d.fun.ready(b),void 0;var e=(c?c:a).querySelectorAll(b);return e._selector_=b?b._selector_||b:void 0,e}function c(a,b,c,d,e){d=d||null;var f=new XMLHttpRequest;c instanceof Function&&(f.onreadystatechange=function(){4!=f.readyState||200!=f.status&&0!=f.status||c(f.responseText)}),f.open(a,b,!0),e&&f.setRequestHeader("Accept",e),d instanceof Object&&(d=JSON.stringify(d),f.setRequestHeader("Content-Type","application/json")),f.setRequestHeader("X-Requested-With","XMLHttpRequest"),f.send(d)}function d(a){return q=1==a.nodeType||9==a.nodeType||a==window?[a]:new b(a),d.extend(q,d.fun),q}var a=document;return d.trim=function(a){return a.replace(/(^\s*)|(\s*$)/g,"")},d.fun={ready:function(b){return a.addEventListener("DOMContentLoaded",b,!1),this},show:function(){return d.fun.each.call(this,function(a,b){d.fun.css.call([b],"display",""),_disp=b.style.display,("none"==_disp||""==_disp)&&(b.style.display="block")}),this},hide:function(){return d.fun.each.call(this,function(a,b){b.style.display="none"}),this},html:function(a){return d.fun.each.call(this,function(b,c){c.innerHTML=a}),this},text:function(){return this[0].innerText},each:function(a){for(var b=0;b<this.length;b++)this[b]._selector_=this._selector_,a.call(this[b],b,this[b]);return this},add:function(a){var b=[];return[].push.apply(b,this),a.length&&[].push.apply(b,a),d.extend(b,d.fun)},eq:function(a){var b=this[a]||null,c=[];return c[0]=b,d.extend(c,d.fun)},lt:function(a){return d.extend([].splice.call(this,0,a),d.fun)},gt:function(a){return d.extend([].splice.call(this,parseInt(a)+1,this.length),d.fun)},get:function(a){return this[a]},siblings:function(){var a=[];return d.fun.each.call(this,function(b,c){var d=[].slice.call(c.parentNode.children).filter(function(b){return b!==c&&a.indexOf(b)<=-1&&b.nodeName==c.nodeName});d&&[].push.apply(a,d)}),d.extend(a,d.fun)},parent:function(a){var b=[];return d.fun.each.call(this,function(c,d){for(var e=d.parentNode;e;){if(1===e.nodeType){if(!a){b.push(e);break}if(e.nodeName==a.toUpperCase()){b.indexOf(e)<0&&b.push(e);break}}e=e.parentNode}}),d.extend(b,d.fun)},closest:function(a){return d.fun.parent.call(this,a)},find:function(a){var c=[];return d.fun.each.call(this,function(d,e){var f=b(a,e);f.length&&[].push.apply(c,f)}),d.extend(c,d.fun)},index:function(a){return a?[].indexOf.call(this,a):[].indexOf.call(this[0].parentNode.children,this[0])},css:function(a,b){return d.fun.each.call(this,function(c,d){if(""==b){var e=new RegExp(a+"s*:.*?(;|$)","ig"),f=(d.getAttribute("style")||"").replace(e,"");d.setAttribute("style",f)}else d.style[a]=b}),this},attr:function(a,b){return"undefined"==typeof b?this[0].getAttribute(a):(this[0].setAttribute(a,b),this)},width:function(a){return"undefined"!=typeof a?(d.fun.css.call([this[0]],"width",a+"px"),this):this[0].clientWidth},height:function(a){return"undefined"!=typeof a?(d.fun.css.call([this[0]],"height",a+"px"),this):this[0].clientHeight},scrollTop:function(){return this[0].scrollTop},hasClass:function(a){return(this[0]||this).className.match(new RegExp("(\\s|^)"+a+"(\\s|$)","ig"))},toggleClass:function(a){return d.fun.each.call(this,function(b,c){d.fun.hasClass.call([c],a)?d.fun.removeClass.call([c],a):d.fun.addClass.call([c],a)}),this},addClass:function(a){return d.fun.each.call(this,function(b,c){d.fun.hasClass.call(c,a)||(c.className=d.trim(c.className+" "+a))}),this},removeClass:function(a){return d.fun.each.call(this,function(b,c){var e=new RegExp(a+"(\\s|$)","ig");c.className=d.trim(c.className.replace(e,""))}),this},remove:function(){d.fun.each.call(this,function(a,b){b.parentNode.removeChild(b)})},on:function(a,b){return d.fun.each.call(this,function(c,d){a.split(/\s/).forEach(function(a){d.addEventListener(a,b,!1)})}),this},bind:function(a,b){return d.fun.on.call(this,a,b),this},unbind:function(a){return d.fun.each.call(this,function(b,c){a.split(/\s/).forEach(function(a){c.removeEventListener(a,c.event)})}),this},trigger:function(b){return d.fun.each.call(this,function(c,d){var e;d.dispatchEvent(e=a.createEvent("Events"),e.initEvent(b,!0,!1))}),this},delegate:function(c,e,f){return d.fun.each.call(this,function(d,g){g.addEventListener(e,function(d){for(var e=d.target,h=b(c);e&&[].indexOf.call(h,e)<0;)e=e.parentNode;e&&e!==g&&e!==a&&f.call(e,d)},!1)}),this},live:function(a,c){return d.fun.delegate.call(b("body"),this._selector_,a,c),this}},d.get=function(a,b){c("GET",a,b)},d.post=function(a,b,d,e){b instanceof Function&&(e=e||d,d=b,b=null),c("POST",a,d,b,e)},d.getJSON=function(a,b){d.get(a,function(a){b(JSON.parse(a))})},d.extend=function(a,b){if(!a)return a;for(k in b)a[k]=b[k];return a},d}(),"$"in window||(window.$=Zepto),function(a){var d,e,c,b=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"";a.browser={vendor:b,has3d:"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,hasTouch:"ontouchstart"in window,hasTransform:b+"Transform"in document.documentElement.style},c={},Touch=function(){function f(){e&&clearTimeout(e),e=null}function g(){d&&clearTimeout(d),d=null}function h(){f(),g()}function i(a,b){return Math.abs(b)<30&&Math.abs(a)>30?0>a?"left":"right":!1}function j(){var b,e,f,h,j,k,l,m;d||(b=c,e=b.end,f=b.start,h=f.target,j=e.timestamp-f.timestamp,k=e.pageX-f.pageX,l=e.pageY-f.pageY,k&&l||!(250>j||j>=750)?(m=i(k,l),m&&a.fun.trigger.call(a(h),"left"==m?"swipeLeft":"swipeRight")):(a.fun.trigger.call(a(h),250>j?"tap":"longTap"),d=setTimeout(function(){g()},250)))}var b={touchstart:function(a){h(),c={},c.end={},c.start=a.touches[0],c.start.timestamp=a.timeStamp,c.touch=!0,e=setTimeout(function(){c.end.timestamp=a.timeStamp+750,j()},750)},touchmove:function(a){c.end=a.touches[0],h()},touchend:function(a){h(),c.end.timestamp=a.timeStamp,c.touch=!1,j()},touchcancel:function(){h()}},k="touchstart touchmove touchend touchcancel",l=a(document);l.unbind("touchstart touchmove touchend"),k.split(/\s/).forEach(function(c){a.fun.on.call(l,c,b[c])}),["swipe","swipeLeft","swipeRight","tap","longTap"].forEach(function(b){a.fun[b]=function(a){return this.on(b,a)}}),a(window).on("scroll",h)},a(function(){Touch()})}(Zepto);
